<!doctype html>
<html lang="en">
<meta charset="UTF-8">
<head>
	<!-- Safe Software, 2013 -->
	<!-- http://www.safe.com -->

	<title>States of the union</title>

	<style src="../css/reset.css"></style>
	<link rel="stylesheet" href="css/index.css">
	<script src="../socket.io/socket.io.js"></script>
	<!-- JQuery -->
	<script src="/libs/jquery-1.10.1.js"></script>

	<!-- Generic server specific functions -->

	<!-- Spatial Dashboard JavaScript -->
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://d3js.org/d3.v3.min.js"></script>
  <script src="https://d3js.org/topojson.v1.min.js"></script>
  <script type="text/javascript" src="./d3_cartogram.js"></script>
</head>

<body>

	<div class="tweet-container">
	      <div class="tweet-stream">Now streaming:</div>
	      <ul class="tweets">
	        <script>

	        // var socket = io.connect('https://localhost:8000');
	        var socket = io.connect('/');
	          jQuery(function($) {
	            var tweetContent = $('ul.tweets');
	            socket.on('twitter-states', function(data){
	              tweetContent.prepend(
									'<li class=`tweet`>' +

										'<div class="prof-info">' +
				              `<img class="prof-pic" src="${data.profile_pic}"/>` +
											'<div class="name">' +
												'<div class="real_name">' + data.name + '</div>' +
												`<div class="screen_name"> @${data.screen_name} </div>` +
											'</div>' +
										'</div>' +

										`<div> ${data.text} </div>` +
										`<div class="tweet-time">${data.created_at}</div>` +

										`<div class="tweet-info">` +
											`<div>${data.retweet_count}</div>` +
											`<div>${data.favorite_count}</div>` +
											`<div>${data.reply_count}</div>` +
										`</div>` +

										`<div>${data.state}</div>` +
										'</div>' +

									'</li>');

	          });

	        });
	        </script>
	        </ul>
	      </div>
	    </div>


</body>
</html>
