<!doctype html>
<html lang="en">
<meta charset="UTF-8">
<head>
	<!-- Safe Software, 2013 -->
	<!-- http://www.safe.com -->

	<title>States of the union</title>

	<link rel="stylesheet" href="../css/reset.css">
	<link rel="stylesheet" href="css/index.css">
	<script src="../socket.io/socket.io.js"></script>
	<!-- JQuery -->
	<script src="/libs/jquery-1.10.1.js"></script>

	<!-- Generic server specific functions -->

	<!-- Spatial Dashboard JavaScript -->
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://d3js.org/d3.v3.min.js"></script>
  <script src="https://d3js.org/topojson.v1.min.js"></script>
  <script type="text/javascript" src="./d3_cartogram.js"></script>


</head>

<body>
	<div class="page-left">
		<div class="tweet-container">
			Twitter feed:
			<ul class="tweets">
				<script>
				var socket = io.connect('/');
				jQuery(function($) {
					var tweetContent = $('ul.tweets');
					socket.on('twitter-states', function(data){
						tweetContent.prepend(
							'<li class=`tweet`>' +
								'<div class="tweet-header">' +

									'<div class="profile-info">' +
										`<img class="prof-pic" src="${data.profile_pic}"/>` +
										`<div class="name">` +
											'<div class="real_name">' + data.name + '</div>' +
											`<div class="screen_name"> @${data.screen_name} </div>` +
										`</div>` +

									'</div>' +

									`<a href="${data.tweet_url}" target="_blank"> <img src="./twitterLogo.png"/> </a>` +
								'</div>' +

								`<div class="tweet-text"> ${data.text} </div>` +
								`<div class="tweet-time">${data.created_at}</div>` +
								`<div class="tweet-from"> Tweeted from: ${data.place_name}</div>` +
								'</div>' +
							'</li>'
						);
					});
				});
				</script>
			</ul>
		</div>
	</div>
	<div class="page-right">

		<p class="title">Non-contiguous cartogram</p>
		<p class="description">A non-contiguous cartogram is a map that displays information by adjusting the size of locations it depicts. Here each incoming tweet grows its state of origin by 0.5% of its total area.</p>
		<div class="map-div"/>
	</div>
</body>
</html>
