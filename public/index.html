<!doctype html>
<html lang="en">
<meta charset="UTF-8">
<head>
	<!-- Safe Software, 2013 -->
	<!-- http://www.safe.com -->

	<title>Twitter Streaming Using Node</title>
	<style>

		.land {
			fill: #fff;
			stroke: #ccc;
		}

		.state {
			fill: #ccc;
			stroke: #666;
		}

	</style>
	<script src="../socket.io/socket.io.js"></script>
	<!-- JQuery -->
	<script src="/libs/jquery-1.10.1.js"></script>

	<!-- Generic server specific functions -->

	<!-- Spatial Dashboard JavaScript -->
	<script src="/js/twitterStream.js" type="text/javascript"></script>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://d3js.org/d3.v3.min.js"></script>
  <script src="https://d3js.org/topojson.v1.min.js"></script>
  <script type="text/javascript" src="./d3_cartogram.js"></script>

</head>

<body onload="initialize()">

	<div class="tweet-container">
	      <div id="tweet-stream">Now streaming:</div>
	      <ul class="tweets">
	        <script>

	        // var socket = io.connect('https://localhost:8000');
	        var socket = io.connect('/');
	          jQuery(function($) {
	            var tweetContent = $('ul.tweets');
	            socket.on('twitter-stream', function(data){
	              tweetContent.prepend('<li>' +
									`<div>${tweet_count}</div>` +
									`<div>${data.state}</div>` +
									`<div>${state_map_array}</div>` +
									'<div id="prof-info">' +
			              `<img id="prof-pic" src="${data.profile_pic}"/>` + '</div>' +
										'<div id="prof-names">' +
				              '<div id="name">' + data.name + '</div>'+
				              '<div id="screen_name">' + '@' + data.screen_name + '</div>' +
									'</div>' +
		              data.text
								+ '</li>');

	          });

	        });
	        </script>
	        </ul>
	      </div>
	    </div>


</body>
</html>
